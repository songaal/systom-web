<!DOCTYPE HTML>
<html>
	<head>

		<title>CoinArk Chart</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge">
		<script type="text/javascript" src="charting_library/charting_library.min.js"></script>
		<script type="text/javascript" src="datafeeds/udf/dist/polyfills.js"></script>
		<script type="text/javascript" src="datafeeds/udf/dist/bundle.js"></script>

		<script type="text/javascript">

      function getParameterByName(name) {
          name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
          var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                  results = regex.exec(location.search);
          return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      }

			TradingView.onready(function()
			{
				widget = window.tvWidget = new TradingView.widget({
					debug: true, // uncomment this line to see Library errors and warnings in the console
					fullscreen: true,
					symbol: 'BTC-USDT',
					interval: "D",
					timezone: "Asia/Seoul",
					container_id: "tv_chart_container",
					//	BEWARE: no trailing slash is expected in feed URL
					datafeed: new Datafeeds.UDFCompatibleDatafeed("https://9u3jawxuod.execute-api.ap-northeast-2.amazonaws.com/v1_1"),
					library_path: "charting_library/",
					locale: getParameterByName('lang') || "ko",
					// drawings_access: { type: 'black', tools: [ { name: "Regression Trend" } ] },
					// disabled_features: [""],
					// enabled_features: [""],
					charts_storage_url: 'http://saveload.tradingview.com',
                    charts_storage_api_version: "1.1",
					client_id: 'tradingview.com',
					user_id: 'public_user_id',
				});

				// setTimeout(()=>{
					// widget.chart().createExecutionShape()
					// 	    .setText("[5] @1,320.75 Limit Buy 1")
					// 	    // .setTooltip("@1,320.75 Limit Buy 2")
					// 	    // .setTextColor("rgba(0,0,0,1)")
					// 	    // .setArrowColor("#0F0")
					// 	    .setDirection("buy")
					// 	    .setTime(1523750400)
					// 	    .setPrice(15.5);
				// 	widget.chart().createExecutionShape()
				// 		    .setText("[5] @1,320.75 Limit Buy 1")
				// 		    // .setTooltip("@1,320.75 Limit Buy 2")
				// 		    // .setTextColor("rgba(0,0,0,1)")
				// 		    // .setArrowColor("#0F0")
				// 		    .setDirection("buy")
				// 		    .setTime(1523750400)
				// 		    .setPrice(15.5);
				// }, 3000)

			});

		</script>

	</head>

	<body style="margin:0px;">
		<div id="tv_chart_container"></div>
	</body>

</html>
